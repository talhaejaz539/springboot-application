<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POS System | Items</title>
    <link rel="icon" type="image/png" href="images/favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <h1 class="header"><a href="index.html" id="main-heading" class="btn"></a></h1>

    <!-- Menu -->
    <div class="header">
        <a href="items.html" class="btn">Items</a>
        <a href="customers.html" class="btn">Customers</a>
        <a href="#" class="btn">Sales</a>
        <a href="#" class="btn">Receipts</a>
    </div>

    <!-- Create Item Button -->
    <button class="btn btn-create" onclick="openCreateModal()">Create Item</button>

    <!-- Create Modal -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <h2>Create Item</h2>
            <form id="createForm">
                <label for="description">Description:</label>
                <input type="text" id="description" name="description" required><br><br>
                <label for="price">Price:</label>
                <input type="number" id="price" name="price" min="0" step="0.01" required><br><br>
                <label for="quantity">Quantity:</label>
                <input type="number" id="quantity" name="quantity" min="0" required><br><br>
                <button type="submit" class="btn">Create</button>
            </form>
            <br>
            <button id="closeCreateModal" class="btn">Close</button>
        </div>
    </div>

    <!-- Update Modal -->
    <div id="updateModal" class="modal">
        <div class="modal-content">
            <h2>Update Item</h2>
            <form id="updateForm">
                <input type="hidden" id="updateId" name="updateId">
                <label for="updateDescription">Description:</label>
                <input type="text" id="updateDescription" name="updateDescription" required><br><br>
                <label for="updatePrice">Price:</label>
                <input type="number" id="updatePrice" name="updatePrice" min="0" step="0.01" required><br><br>
                <label for="updateQuantity">Quantity:</label>
                <input type="number" id="updateQuantity" name="updateQuantity" min="0" required><br><br>
                <button type="submit" class="btn">Update</button>
            </form>
            <br>
            <button id="closeUpdateModal" class="btn">Close</button>
        </div>
    </div>

    <!-- Read Table -->
    <table id="itemTable">
        <thead>
        <tr>
            <th>ItemId</th>
            <th>Description</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Creation Date</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <!-- Items will be populated here -->
        </tbody>
    </table>

    <script src="scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (!performance.navigation.type || performance.navigation.type === 1) {
                fetchItems();
            }
        });
    </script>
</body>
</html>